{"version":3,"sources":["./src/app/pages/login/login.module.ts","./src/app/pages/login/login.page.scss","./src/app/pages/login/login.page.html","./src/app/pages/login/login-routing.module.ts","./src/app/pages/login/login.page.ts"],"names":[],"mappings":"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","file":"pages-login-login-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-item {\\n  padding: 0 2rem;\\n}\\n\\n.login__flip--container {\\n  perspective: 1000px;\\n  width: 100%;\\n  height: 500px;\\n}\\n\\n.login__flip--container.flip .login__flip--flipper {\\n  transform: rotateY(180deg);\\n}\\n\\n.login__flip--container.flip .login__flip--flipper-front, .login__flip--container.flip .login__flip--flipper-back {\\n  width: 100%;\\n  height: 500px;\\n}\\n\\n.login__flip--flipper {\\n  transition: 0.6s;\\n  transform-style: preserve-3d;\\n  position: relative;\\n}\\n\\n.login__flip--flipper-front, .login__flip--flipper-back {\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n\\n.login__flip--flipper-front {\\n  z-index: 2;\\n}\\n\\n.login__flip--flipper-back {\\n  transform: rotateY(180deg);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7QUFDRjs7QUFHRTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUFBSjs7QUFFRTtFQUVBLDBCQUFBO0FBREY7O0FBRUU7RUFFRSxXQUFBO0VBQ0EsYUFBQTtBQURKOztBQUlFO0VBQ0UsZ0JBQUE7RUFDQSw0QkFBQTtFQUNBLGtCQUFBO0FBRko7O0FBR0k7RUFFRSxtQ0FBQTtVQUFBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtBQUZOOztBQUlJO0VBQ0UsVUFBQTtBQUZOOztBQUlJO0VBQ0UsMEJBQUE7QUFGTiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcbiAgcGFkZGluZzogMCAycmVtO1xufVxuLy8gRkxJUCBDQVJEIEVGRkVDVFxuLmxvZ2luX19mbGlwe1xuICAmLS1jb250YWluZXIge1xuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA1MDBweDtcbiAgfVxuICAmLS1jb250YWluZXIuZmxpcCBcbiAgJi0tZmxpcHBlciB7XG4gIHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpO1xuICAmLWZyb250LFxuICAmLWJhY2sge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNTAwcHg7XG4gIH1cbiAgfSBcbiAgJi0tZmxpcHBlciB7XG4gICAgdHJhbnNpdGlvbjogMC42cztcbiAgICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAmLWZyb250LFxuICAgICYtYmFjayB7XG4gICAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgIH1cbiAgICAmLWZyb250IHtcbiAgICAgIHotaW5kZXg6IDI7XG4gICAgfVxuICAgICYtYmFjayB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcbiAgICB9XG4gIH1cbn0iXX0= */\";","export default \"<ion-content>\\n  <div class=\\\"login__flip--container\\\" #flipcontainer>\\n    <div class=\\\"login__flip--flipper\\\">\\n      <div class=\\\"login__flip--flipper-front\\\">\\n        <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login()\\\">\\n          <div class=\\\"form__img--box\\\">\\n            <img class=\\\"form__img--box-img\\\" src=\\\"https://cdn.gobankingrates.com/wp-content/uploads/2019/03/fresh-produce-in-grocery-bag-iStock-936387810.jpg\\\" alt=\\\"\\\">\\n            <div class=\\\"form__img--box-label\\\">\\n              Online Grocery\\n            </div>\\n          </div>\\n          <h2 class=\\\"form__header\\\">Log In</h2>\\n          <ion-item lines=\\\"full\\\">\\n              <ion-label position=\\\"stacked\\\">\\n                Email\\n              </ion-label>\\n              <ion-input type=\\\"email\\\" placeholder=\\\"youremail@email.com\\\" formControlName=\\\"email\\\">\\n              </ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">\\n              Password\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n          </ion-item>\\n      \\n         <div class=\\\"form__buttons\\\">\\n          <ion-button expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!loginForm.valid\\\">\\n            Login\\n          </ion-button>\\n      \\n          <div class=\\\"form__text\\\">\\n            Don'have an account yet?\\n          <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"clear\\\" (click)=\\\"toggleRegister()\\\">\\n            Register\\n          </ion-button>\\n          </div>\\n         </div>\\n        </form>\\n      </div>\\n      <div class=\\\"login__flip--flipper-back\\\">\\n        <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\n          <div class=\\\"form__img--box\\\">\\n            <img class=\\\"form__img--box-img\\\" src=\\\"https://cdn.gobankingrates.com/wp-content/uploads/2019/03/fresh-produce-in-grocery-bag-iStock-936387810.jpg\\\" alt=\\\"\\\">\\n            <div class=\\\"form__img--box-label\\\">\\n              Online Grocery\\n            </div>\\n          </div>\\n          <h2 class=\\\"form__header\\\">Register new user</h2>\\n          <ion-item lines=\\\"full\\\">\\n              <ion-label position=\\\"stacked\\\">\\n                Email\\n              </ion-label>\\n              <ion-input type=\\\"email\\\" placeholder=\\\"youremail@email.com\\\" formControlName=\\\"email\\\">\\n              </ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">\\n              Name\\n            </ion-label>\\n            <ion-input placeholder=\\\"Your name\\\" formControlName=\\\"name\\\"></ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">\\n              Password\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">User type</ion-label>\\n            <ion-select formControlName=\\\"type\\\">\\n                <ion-select-option value=\\\"BUYER\\\">Buyer</ion-select-option>\\n                <ion-select-option value=\\\"SELLER\\\">Seller</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n      \\n         <div class=\\\"form__buttons\\\">\\n          <ion-button expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!registerForm.valid\\\">\\n            Register\\n          </ion-button>\\n      \\n          <div class=\\\"form__text\\\">\\n            Already have an account?\\n          <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"clear\\\" (click)=\\\"toggleRegister()\\\">\\n            Login\\n          </ion-button>\\n          </div>\\n         </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { AuthService } from './../../services/auth.service';\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  registerForm: FormGroup;\n  loginForm: FormGroup;\n\n  @ViewChild('flipcontainer') flipcontainer: ElementRef;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private authService: AuthService,\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,\n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.registerForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(8)]],\n      name: ['', Validators.required],\n      type: ['BUYER', Validators.required]\n    });\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(8)]]\n    })\n  }\n\n  navigateByType(type){\n    if (type === 'BUYER'){\n      this.router.navigateByUrl('/buyer');\n    }\n    else if (type === 'SELLER'){\n      this.router.navigateByUrl('/seller');\n    }\n  }\n\n  async login(){\n    let loading = await this.loadingCtrl.create({\n      message: `Logging you in...`\n    });\n    await loading.present();\n    this.authService.signIn(this.loginForm.value).subscribe(user => {\n      loading.dismiss();\n      this.loginForm.reset();\n      this.navigateByType(user['type']);\n    },\n    async err => {\n      await loading.dismiss();\n      \n      let toast = await this.toastCtrl.create({\n        position: 'top',\n        color: 'danger',\n        duration: 4000,\n        message: err.message\n      });\n      toast.present();\n    })\n  }\n\n  async register(){\n    let loading = await this.loadingCtrl.create({\n      message: `Creating your new account, ${this.registerForm.value.name}`\n    });\n    await loading.present();\n    this.authService.signUp(this.registerForm.value).then(\n      async res => {\n      await loading.dismiss();\n      await this.registerForm.reset();\n      \n      let toast = await this.toastCtrl.create({\n        position: 'top',\n        color: 'success',\n        duration: 3000,\n        message: `Your account has been created!`\n      });\n      toast.present();\n      this.navigateByType(this.registerForm.value['type']);\n    },\n    async err => {\n      await loading.dismiss();\n      \n      let toast = await this.toastCtrl.create({\n        position: 'top',\n        color: 'danger',\n        duration: 4000,\n        message: err.message\n      });\n      toast.present();\n    })\n  }\n\n  toggleRegister(){\n    this.flipcontainer.nativeElement.classList.toggle('flip');\n  }\n}\n"],"sourceRoot":"webpack:///"}