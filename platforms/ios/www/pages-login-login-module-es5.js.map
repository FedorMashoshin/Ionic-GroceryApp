{"version":3,"sources":["webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.page.ts"],"names":["LoginPageModule","imports","declarations","routes","path","component","LoginPageRoutingModule","forChild","exports","LoginPage","formBuilder","authService","loadingCtrl","toastCtrl","router","registerForm","group","email","required","password","minLength","name","type","loginForm","navigateByUrl","create","message","loading","present","signIn","value","subscribe","user","dismiss","reset","navigateByType","err","position","color","duration","toast","signUp","then","res","flipcontainer","nativeElement","classList","toggle","selector","template"],"mappings":"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","file":"pages-login-login-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"ion-item {\\n  padding: 0 2rem;\\n}\\n\\n.login__flip--container {\\n  perspective: 1000px;\\n  width: 100%;\\n  height: 500px;\\n}\\n\\n.login__flip--container.flip .login__flip--flipper {\\n  transform: rotateY(180deg);\\n}\\n\\n.login__flip--container.flip .login__flip--flipper-front, .login__flip--container.flip .login__flip--flipper-back {\\n  width: 100%;\\n  height: 500px;\\n}\\n\\n.login__flip--flipper {\\n  transition: 0.6s;\\n  transform-style: preserve-3d;\\n  position: relative;\\n}\\n\\n.login__flip--flipper-front, .login__flip--flipper-back {\\n  -webkit-backface-visibility: hidden;\\n          backface-visibility: hidden;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n\\n.login__flip--flipper-front {\\n  z-index: 2;\\n}\\n\\n.login__flip--flipper-back {\\n  transform: rotateY(180deg);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xvZ2luLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGVBQUE7QUFDRjs7QUFHRTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtFQUNBLGFBQUE7QUFBSjs7QUFFRTtFQUVBLDBCQUFBO0FBREY7O0FBRUU7RUFFRSxXQUFBO0VBQ0EsYUFBQTtBQURKOztBQUlFO0VBQ0UsZ0JBQUE7RUFDQSw0QkFBQTtFQUNBLGtCQUFBO0FBRko7O0FBR0k7RUFFRSxtQ0FBQTtVQUFBLDJCQUFBO0VBQ0Esa0JBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtBQUZOOztBQUlJO0VBQ0UsVUFBQTtBQUZOOztBQUlJO0VBQ0UsMEJBQUE7QUFGTiIsImZpbGUiOiJsb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24taXRlbXtcbiAgcGFkZGluZzogMCAycmVtO1xufVxuLy8gRkxJUCBDQVJEIEVGRkVDVFxuLmxvZ2luX19mbGlwe1xuICAmLS1jb250YWluZXIge1xuICAgIHBlcnNwZWN0aXZlOiAxMDAwcHg7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA1MDBweDtcbiAgfVxuICAmLS1jb250YWluZXIuZmxpcCBcbiAgJi0tZmxpcHBlciB7XG4gIHRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpO1xuICAmLWZyb250LFxuICAmLWJhY2sge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNTAwcHg7XG4gIH1cbiAgfSBcbiAgJi0tZmxpcHBlciB7XG4gICAgdHJhbnNpdGlvbjogMC42cztcbiAgICB0cmFuc2Zvcm0tc3R5bGU6IHByZXNlcnZlLTNkO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAmLWZyb250LFxuICAgICYtYmFjayB7XG4gICAgICBiYWNrZmFjZS12aXNpYmlsaXR5OiBoaWRkZW47XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICBsZWZ0OiAwO1xuICAgIH1cbiAgICAmLWZyb250IHtcbiAgICAgIHotaW5kZXg6IDI7XG4gICAgfVxuICAgICYtYmFjayB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKTtcbiAgICB9XG4gIH1cbn0iXX0= */\";","export default \"<ion-content>\\n  <div class=\\\"login__flip--container\\\" #flipcontainer>\\n    <div class=\\\"login__flip--flipper\\\">\\n      <div class=\\\"login__flip--flipper-front\\\">\\n        <form [formGroup]=\\\"loginForm\\\" (ngSubmit)=\\\"login()\\\">\\n          <div class=\\\"form__img--box\\\">\\n            <img class=\\\"form__img--box-img\\\" src=\\\"https://cdn.gobankingrates.com/wp-content/uploads/2019/03/fresh-produce-in-grocery-bag-iStock-936387810.jpg\\\" alt=\\\"\\\">\\n            <div class=\\\"form__img--box-label\\\">\\n              Online Grocery\\n            </div>\\n          </div>\\n          <h2 class=\\\"form__header\\\">Log In</h2>\\n          <ion-item lines=\\\"full\\\">\\n              <ion-label position=\\\"stacked\\\">\\n                Email\\n              </ion-label>\\n              <ion-input type=\\\"email\\\" placeholder=\\\"youremail@email.com\\\" formControlName=\\\"email\\\">\\n              </ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">\\n              Password\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n          </ion-item>\\n      \\n         <div class=\\\"form__buttons\\\">\\n          <ion-button expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!loginForm.valid\\\">\\n            Login\\n          </ion-button>\\n      \\n          <div class=\\\"form__text\\\">\\n            Don'have an account yet?\\n          <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"clear\\\" (click)=\\\"toggleRegister()\\\">\\n            Register\\n          </ion-button>\\n          </div>\\n         </div>\\n        </form>\\n      </div>\\n      <div class=\\\"login__flip--flipper-back\\\">\\n        <form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\n          <div class=\\\"form__img--box\\\">\\n            <img class=\\\"form__img--box-img\\\" src=\\\"https://cdn.gobankingrates.com/wp-content/uploads/2019/03/fresh-produce-in-grocery-bag-iStock-936387810.jpg\\\" alt=\\\"\\\">\\n            <div class=\\\"form__img--box-label\\\">\\n              Online Grocery\\n            </div>\\n          </div>\\n          <h2 class=\\\"form__header\\\">Register new user</h2>\\n          <ion-item lines=\\\"full\\\">\\n              <ion-label position=\\\"stacked\\\">\\n                Email\\n              </ion-label>\\n              <ion-input type=\\\"email\\\" placeholder=\\\"youremail@email.com\\\" formControlName=\\\"email\\\">\\n              </ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">\\n              Name\\n            </ion-label>\\n            <ion-input placeholder=\\\"Your name\\\" formControlName=\\\"name\\\"></ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">\\n              Password\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n          </ion-item>\\n      \\n          <ion-item lines=\\\"full\\\">\\n            <ion-label position=\\\"stacked\\\">User type</ion-label>\\n            <ion-select formControlName=\\\"type\\\">\\n                <ion-select-option value=\\\"BUYER\\\">Buyer</ion-select-option>\\n                <ion-select-option value=\\\"SELLER\\\">Seller</ion-select-option>\\n            </ion-select>\\n          </ion-item>\\n      \\n         <div class=\\\"form__buttons\\\">\\n          <ion-button expand=\\\"block\\\" type=\\\"submit\\\" [disabled]=\\\"!registerForm.valid\\\">\\n            Register\\n          </ion-button>\\n      \\n          <div class=\\\"form__text\\\">\\n            Already have an account?\\n          <ion-button expand=\\\"block\\\" type=\\\"button\\\" color=\\\"secondary\\\" fill=\\\"clear\\\" (click)=\\\"toggleRegister()\\\">\\n            Login\\n          </ion-button>\\n          </div>\\n         </div>\\n        </form>\\n      </div>\\n    </div>\\n  </div>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { AuthService } from './../../services/auth.service';\nimport { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { LoadingController, ToastController } from '@ionic/angular';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  registerForm: FormGroup;\n  loginForm: FormGroup;\n\n  @ViewChild('flipcontainer') flipcontainer: ElementRef;\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private authService: AuthService,\n    private loadingCtrl: LoadingController,\n    private toastCtrl: ToastController,\n    private router: Router\n    ) { }\n\n  ngOnInit() {\n    this.registerForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(8)]],\n      name: ['', Validators.required],\n      type: ['BUYER', Validators.required]\n    });\n    this.loginForm = this.formBuilder.group({\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', [Validators.required, Validators.minLength(8)]]\n    })\n  }\n\n  navigateByType(type){\n    if (type === 'BUYER'){\n      this.router.navigateByUrl('/buyer');\n    }\n    else if (type === 'SELLER'){\n      this.router.navigateByUrl('/seller');\n    }\n  }\n\n  async login(){\n    let loading = await this.loadingCtrl.create({\n      message: `Logging you in...`\n    });\n    await loading.present();\n    this.authService.signIn(this.loginForm.value).subscribe(user => {\n      loading.dismiss();\n      this.loginForm.reset();\n      this.navigateByType(user['type']);\n    },\n    async err => {\n      await loading.dismiss();\n      \n      let toast = await this.toastCtrl.create({\n        position: 'top',\n        color: 'danger',\n        duration: 4000,\n        message: err.message\n      });\n      toast.present();\n    })\n  }\n\n  async register(){\n    let loading = await this.loadingCtrl.create({\n      message: `Creating your new account, ${this.registerForm.value.name}`\n    });\n    await loading.present();\n    this.authService.signUp(this.registerForm.value).then(\n      async res => {\n      await loading.dismiss();\n      await this.registerForm.reset();\n      \n      let toast = await this.toastCtrl.create({\n        position: 'top',\n        color: 'success',\n        duration: 3000,\n        message: `Your account has been created!`\n      });\n      toast.present();\n      this.navigateByType(this.registerForm.value['type']);\n    },\n    async err => {\n      await loading.dismiss();\n      \n      let toast = await this.toastCtrl.create({\n        position: 'top',\n        color: 'danger',\n        duration: 4000,\n        message: err.message\n      });\n      toast.present();\n    })\n  }\n\n  toggleRegister(){\n    this.flipcontainer.nativeElement.classList.toggle('flip');\n  }\n}\n"]}